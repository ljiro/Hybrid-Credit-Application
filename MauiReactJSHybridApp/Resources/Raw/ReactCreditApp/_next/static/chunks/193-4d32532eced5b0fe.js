"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[193],{2193:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var r=t(5155),s=t(2115),l=t(8482),o=t(2502),d=t(2834),n=t(7168),i=t(5525),c=t(9249),h=t(1007),g=t(9245),m=t(7434),u=t(4835),x=t(9663),p=t(6474),f=t(6874),b=t.n(f),y=t(5695),v=t(235),j=t(2337),w=t(5784),N=t(714),A=t(3008),_=t(9074),C=t(3999),B=t(2355),k=t(3052),D=t(5771);function L(e){let{className:a,classNames:t,showOutsideDays:s=!0,...l}=e;return(0,r.jsx)(D.hv,{showOutsideDays:s,className:(0,C.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,C.cn)((0,n.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,C.cn)((0,n.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...a}=e;return(0,r.jsx)(B.A,{className:"h-4 w-4"})},IconRight:e=>{let{...a}=e;return(0,r.jsx)(k.A,{className:"h-4 w-4"})}},...l})}L.displayName="Calendar";var M=t(547);let S=M.bL,R=M.l9,z=s.forwardRef((e,a)=>{let{className:t,align:s="center",sideOffset:l=4,...o}=e;return(0,r.jsx)(M.ZL,{children:(0,r.jsx)(M.UC,{ref:a,align:s,sideOffset:l,className:(0,C.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});z.displayName=M.UC.displayName,o.t1.register(...o.$L,d.A);let E=()=>{let e=(0,y.usePathname)(),[a,t]=(0,s.useState)([["Approved",0],["Declined",0],["Pending",0]]),[f,B]=(0,s.useState)([]),[k,D]=(0,s.useState)([]),[M,E]=(0,s.useState)("all"),[P,Z]=(0,s.useState)({from:(0,N.f)(new Date,-30),to:new Date}),F={red:"rgba(255, 99, 132, 0.7)",orange:"rgba(255, 159, 64, 0.7)",yellow:"rgba(255, 205, 86, 0.7)",green:"rgba(75, 192, 192, 0.7)",blue:"rgba(54, 162, 235, 0.7)",purple:"rgba(153, 102, 255, 0.7)"},W={red:"rgba(255, 99, 132, 1)",orange:"rgba(255, 159, 64, 1)",yellow:"rgba(255, 205, 86, 1)",green:"rgba(75, 192, 192, 1)",blue:"rgba(54, 162, 235, 1)",purple:"rgba(153, 102, 255, 1)"},[O,I]=(0,s.useState)({labels:[],datasets:[{label:"# of loan applications",data:[],borderWidth:3,borderColor:W.blue,backgroundColor:F.blue,tension:.3,pointBackgroundColor:W.blue,pointBorderColor:"#fff",pointHoverRadius:6,pointHoverBorderWidth:2}]}),[$,H]=(0,s.useState)({labels:[],datasets:[{label:"# of accepted loans",data:[],borderWidth:2,backgroundColor:[F.red,F.green,F.blue,F.orange,F.purple],borderColor:[W.red,W.green,W.blue,W.orange,W.purple],borderRadius:6,borderSkipped:!1}]}),[J,U]=(0,s.useState)({labels:["Credit Score","Income","Employment","Debt Ratio","Loan Amount","Collateral"],datasets:[{label:"Approval Impact Factors",data:[35,25,20,10,7,3],backgroundColor:[F.red,F.orange,F.yellow,F.green,F.blue,F.purple],borderColor:[W.red,W.orange,W.yellow,W.green,W.blue,W.purple],borderWidth:2,hoverOffset:20}]}),G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,a=["Approved","Disapproved","Pending"],t=["Personal","Business","Auto","Mortgage","Education"],r=[.6,.25,.15],s=[.4,.3,.15,.1,.05];return Array.from({length:e},(e,l)=>{let o=q(a,r),d=q(t,s),n=Math.floor(6*Math.random()),i=Math.floor(28*Math.random())+1,c=new Date;return c.setMonth(c.getMonth()-n),c.setDate(i),{loan_status:o,loan_type:d,createdAt:c.toISOString()}})},q=(e,a)=>{let t=Math.random()*a.reduce((e,a)=>e+a,0);return e.find((e,r)=>(t-=a[r])<0)||e[0]},T=async()=>{try{let e=G();B(e);let a=e.filter(e=>"Approved"===e.loan_status).length,r=e.filter(e=>"Disapproved"===e.loan_status).length,s=e.filter(e=>"Pending"===e.loan_status).length;t([["Approved",a],["Declined",r],["Pending",s]]),D(["Main Branch","Downtown","Westside","Eastside","North Branch"]),K(e),V(e)}catch(e){console.error("Error loading loan data:",e)}},V=e=>{let a=["January","February","March","April","May","June","July","August","September","October","November","December"],t=new Date,r={};for(let e=5;e>=0;e--){let s=new Date;s.setMonth(t.getMonth()-e),r[a[s.getMonth()]]=0}e.forEach(e=>{let t=a[new Date(e.createdAt).getMonth()];r.hasOwnProperty(t)&&r[t]++});let s=Object.keys(r),l=Object.values(r);I({labels:s,datasets:[{...O.datasets[0],data:l}]})},K=e=>{let a=["Personal","Business","Auto","Mortgage","Education"],t=[F.red,F.green,F.blue,F.orange,F.purple],r={};a.forEach(e=>{r[e]=0}),e.filter(e=>"Approved"===e.loan_status).forEach(e=>{r[e.loan_type]++});let s=a.map(e=>r[e]);H({labels:a,datasets:[{...$.datasets[0],data:s,backgroundColor:t,borderColor:t.map(e=>e.replace("0.7","1"))}]})};(0,s.useEffect)(()=>{T()},[]),(0,s.useEffect)(()=>{f.length>0&&Q()},[f,O,$,J]);let Q=()=>{var e,a,t;null===(e=o.t1.getChart("loansApproved"))||void 0===e||e.destroy(),null===(a=o.t1.getChart("monthlySales"))||void 0===a||a.destroy(),null===(t=o.t1.getChart("factors"))||void 0===t||t.destroy();let r=document.getElementById("loansApproved"),s=document.getElementById("monthlySales"),l=document.getElementById("factors");r&&new o.t1(r,{type:"bar",data:$,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{color:"hsl(var(--muted-foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"hsl(var(--foreground))"},grid:{display:!1}}}}}),s&&new o.t1(s,{type:"line",data:O,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{color:"hsl(var(--muted-foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"hsl(var(--foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}}}}}),l&&new o.t1(l,{plugins:[d.A],type:"doughnut",data:J,options:{maintainAspectRatio:!1,responsive:!0,cutout:"65%",plugins:{datalabels:{color:"#fff",font:{weight:"bold",size:12},formatter:e=>e>0?"".concat(e,"%"):""},legend:{position:"right",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"},padding:20,boxWidth:15}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}}}})};return(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-gray-50",children:[(0,r.jsxs)("aside",{className:"hidden w-72 flex-col border-r bg-white border-r-gray-200 sm:flex",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 p-5",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 text-blue-500"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Admin Panel"})]})}),(0,r.jsxs)("nav",{className:"flex flex-col gap-1 p-3 text-sm font-medium",children:[(0,r.jsx)(b(),{href:"/david/dashboard",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/dashboard"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(v.A,{className:"mr-3 h-5 w-5"})," Dashboard"]})}),(0,r.jsx)(b(),{href:"/david/users",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/users"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(c.A,{className:"mr-3 h-5 w-5"})," Users"]})}),(0,r.jsx)(b(),{href:"/david/clients",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/clients"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(h.A,{className:"mr-3 h-5 w-5"})," Clients"]})}),(0,r.jsx)(b(),{href:"/david/loans",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/loans"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(g.A,{className:"mr-3 h-5 w-5"})," Loans"]})}),(0,r.jsx)(b(),{href:"/david/reports",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/reports"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(m.A,{className:"mr-3 h-5 w-5"})," Reports"]})}),(0,r.jsx)(b(),{href:"/david/upload",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(n.$,{variant:"/david/upload"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(j.A,{className:"mr-3 h-5 w-5"})," Upload"]})})]}),(0,r.jsx)("div",{className:"mt-auto p-3 border-t border-gray-200",children:(0,r.jsxs)(n.$,{variant:"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,r.jsx)(u.A,{className:"mr-3 h-5 w-5"})," Logout"]})})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-gray-200 bg-white px-6",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Dashboard Overview"}),(0,r.jsx)("div",{className:"ml-auto flex items-center gap-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-3",children:[(0,r.jsx)(x.eu,{className:"h-9 w-9",children:(0,r.jsx)(x.q5,{className:"text-gray-900",children:"DL"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"David Lee"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"IT Administrator"})]}),(0,r.jsx)(p.A,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]})})]}),(0,r.jsxs)("main",{className:"flex-1 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,r.jsx)("div",{className:"w-full md:w-64",children:(0,r.jsxs)(w.l6,{value:M,onValueChange:E,children:[(0,r.jsx)(w.bq,{className:"w-full",children:(0,r.jsx)(w.yv,{placeholder:"Select branch"})}),(0,r.jsxs)(w.gC,{children:[(0,r.jsx)(w.eb,{value:"all",children:"All Branches"}),k.map(e=>(0,r.jsx)(w.eb,{value:e,children:e},e))]})]})}),(0,r.jsx)("div",{className:"w-full md:w-64",children:(0,r.jsxs)(S,{children:[(0,r.jsx)(R,{asChild:!0,children:(0,r.jsxs)(n.$,{id:"date",variant:"outline",className:(0,C.cn)("w-full justify-start text-left font-normal",!P&&"text-muted-foreground"),children:[(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4"}),(null==P?void 0:P.from)?P.to?(0,r.jsxs)(r.Fragment,{children:[(0,A.GP)(P.from,"LLL dd, y")," -"," ",(0,A.GP)(P.to,"LLL dd, y")]}):(0,A.GP)(P.from,"LLL dd, y"):(0,r.jsx)("span",{children:"Pick a date range"})]})}),(0,r.jsx)(z,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(L,{initialFocus:!0,mode:"range",defaultMonth:null==P?void 0:P.from,selected:P,onSelect:Z,numberOfMonths:2})})]})})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:a.map((e,a)=>(0,r.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm",children:[(0,r.jsx)(l.aR,{className:"pb-2",children:(0,r.jsx)(l.ZB,{className:"text-sm font-medium text-gray-500",children:e[0]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:e[1]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Last updated: Just now"})]})]},a))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-gray-800",children:"Monthly Applications"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("canvas",{id:"monthlySales"})})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-gray-800",children:"Loan Types"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("canvas",{id:"loansApproved"})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-gray-800",children:"Approval Factors"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("canvas",{id:"factors"})})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-gray-800",children:"Recent Activity"})}),(0,r.jsx)(l.Wu,{className:"flex justify-center items-center h-full",children:(0,r.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,r.jsx)("p",{children:"Recent loan applications and approvals"}),(0,r.jsx)("p",{className:"mt-2 text-sm",children:"Data will appear here"})]})})]})})]})]})]})]})}}}]);