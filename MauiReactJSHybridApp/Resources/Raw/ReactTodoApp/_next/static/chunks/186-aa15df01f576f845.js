"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{8186:(e,a,r)=>{r.r(a),r.d(a,{default:()=>k});var t=r(5155),s=r(2115),l=r(8482),o=r(2502),d=r(2834),n=r(2355),i=r(3052),c=r(9895),g=r(3999),h=r(7168);function u(e){let{className:a,classNames:r,showOutsideDays:s=!0,...l}=e;return(0,t.jsx)(c.hv,{showOutsideDays:s,className:(0,g.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,g.cn)((0,h.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,g.cn)((0,h.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{...a}=e;return(0,t.jsx)(n.A,{className:"h-4 w-4"})},IconRight:e=>{let{...a}=e;return(0,t.jsx)(i.A,{className:"h-4 w-4"})}},...l})}u.displayName="Calendar";var m=r(5525),p=r(9249),x=r(1007),b=r(9245),y=r(7434),f=r(4835),v=r(9663),j=r(6474),w=r(6874),N=r.n(w),A=r(5695),_=r(235),C=r(2337);o.t1.register(...o.$L,d.A);let k=()=>{let e=(0,A.usePathname)(),[a,r]=(0,s.useState)([["Approved",0],["Declined",0],["Pending",0]]),[n,i]=(0,s.useState)([]),[c,g]=(0,s.useState)(new Date),w={red:"rgba(255, 99, 132, 0.7)",orange:"rgba(255, 159, 64, 0.7)",yellow:"rgba(255, 205, 86, 0.7)",green:"rgba(75, 192, 192, 0.7)",blue:"rgba(54, 162, 235, 0.7)",purple:"rgba(153, 102, 255, 0.7)"},k={red:"rgba(255, 99, 132, 1)",orange:"rgba(255, 159, 64, 1)",yellow:"rgba(255, 205, 86, 1)",green:"rgba(75, 192, 192, 1)",blue:"rgba(54, 162, 235, 1)",purple:"rgba(153, 102, 255, 1)"},[B,D]=(0,s.useState)({labels:[],datasets:[{label:"# of loan applications",data:[],borderWidth:3,borderColor:k.blue,backgroundColor:w.blue,tension:.3,pointBackgroundColor:k.blue,pointBorderColor:"#fff",pointHoverRadius:6,pointHoverBorderWidth:2}]}),[M,S]=(0,s.useState)({labels:[],datasets:[{label:"# of accepted loans",data:[],borderWidth:2,backgroundColor:[w.red,w.green,w.blue,w.orange,w.purple],borderColor:[k.red,k.green,k.blue,k.orange,k.purple],borderRadius:6,borderSkipped:!1}]}),[E,R]=(0,s.useState)({labels:["Credit Score","Income","Employment","Debt Ratio","Loan Amount","Collateral"],datasets:[{label:"Approval Impact Factors",data:[35,25,20,10,7,3],backgroundColor:[w.red,w.orange,w.yellow,w.green,w.blue,w.purple],borderColor:[k.red,k.orange,k.yellow,k.green,k.blue,k.purple],borderWidth:2,hoverOffset:20}]}),z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,a=["Approved","Disapproved","Pending"],r=["Personal","Business","Auto","Mortgage","Education"],t=[.6,.25,.15],s=[.4,.3,.15,.1,.05];return Array.from({length:e},(e,l)=>{let o=Z(a,t),d=Z(r,s),n=Math.floor(6*Math.random()),i=Math.floor(28*Math.random())+1,c=new Date;return c.setMonth(c.getMonth()-n),c.setDate(i),{loan_status:o,loan_type:d,createdAt:c.toISOString()}})},Z=(e,a)=>{let r=Math.random()*a.reduce((e,a)=>e+a,0);return e.find((e,t)=>(r-=a[t])<0)||e[0]},W=async()=>{try{let e=z();i(e);let a=e.filter(e=>"Approved"===e.loan_status).length,t=e.filter(e=>"Disapproved"===e.loan_status).length,s=e.filter(e=>"Pending"===e.loan_status).length;r([["Approved",a],["Declined",t],["Pending",s]]),I(e),F(e)}catch(e){console.error("Error loading loan data:",e)}},F=e=>{let a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=new Date,t={};for(let e=5;e>=0;e--){let s=new Date;s.setMonth(r.getMonth()-e),t[a[s.getMonth()]]=0}e.forEach(e=>{let r=a[new Date(e.createdAt).getMonth()];t.hasOwnProperty(r)&&t[r]++});let s=Object.keys(t),l=Object.values(t);D({labels:s,datasets:[{...B.datasets[0],data:l}]})},I=e=>{let a=["Personal","Business","Auto","Mortgage","Education"],r=[w.red,w.green,w.blue,w.orange,w.purple],t={};a.forEach(e=>{t[e]=0}),e.filter(e=>"Approved"===e.loan_status).forEach(e=>{t[e.loan_type]++});let s=a.map(e=>t[e]);S({labels:a,datasets:[{...M.datasets[0],data:s,backgroundColor:r,borderColor:r.map(e=>e.replace("0.7","1"))}]})};(0,s.useEffect)(()=>{W()},[]),(0,s.useEffect)(()=>{n.length>0&&L()},[n,B,M,E]);let L=()=>{var e,a,r;null===(e=o.t1.getChart("loansApproved"))||void 0===e||e.destroy(),null===(a=o.t1.getChart("monthlySales"))||void 0===a||a.destroy(),null===(r=o.t1.getChart("factors"))||void 0===r||r.destroy();let t=document.getElementById("loansApproved"),s=document.getElementById("monthlySales"),l=document.getElementById("factors");t&&new o.t1(t,{type:"bar",data:M,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{color:"hsl(var(--muted-foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"hsl(var(--foreground))"},grid:{display:!1}}}}}),s&&new o.t1(s,{type:"line",data:B,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{color:"hsl(var(--muted-foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"hsl(var(--foreground))"},grid:{color:"rgba(0, 0, 0, 0.1)"}}}}}),l&&new o.t1(l,{plugins:[d.A],type:"doughnut",data:E,options:{maintainAspectRatio:!1,responsive:!0,cutout:"65%",plugins:{datalabels:{color:"#fff",font:{weight:"bold",size:12},formatter:e=>e>0?"".concat(e,"%"):""},legend:{position:"right",labels:{color:"hsl(var(--foreground))",font:{size:12,weight:"bold"},padding:20,boxWidth:15}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12}}}}})};return(0,t.jsxs)("div",{className:"flex min-h-screen w-full bg-gray-50",children:[(0,t.jsxs)("aside",{className:"hidden w-72 flex-col border-r bg-white border-r-gray-200 sm:flex",children:[(0,t.jsx)("div",{className:"border-b border-gray-200 p-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-8 w-8 text-blue-500"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Admin Panel"})]})}),(0,t.jsxs)("nav",{className:"flex flex-col gap-1 p-3 text-sm font-medium",children:[(0,t.jsx)(N(),{href:"/david/dashboard",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/dashboard"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(_.A,{className:"mr-3 h-5 w-5"})," Dashboard"]})}),(0,t.jsx)(N(),{href:"/david/users",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/users"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(p.A,{className:"mr-3 h-5 w-5"})," Users"]})}),(0,t.jsx)(N(),{href:"/david/clients",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/clients"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(x.A,{className:"mr-3 h-5 w-5"})," Clients"]})}),(0,t.jsx)(N(),{href:"/david/loans",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/loans"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(b.A,{className:"mr-3 h-5 w-5"})," Loans"]})}),(0,t.jsx)(N(),{href:"/david/reports",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/reports"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(y.A,{className:"mr-3 h-5 w-5"})," Reports"]})}),(0,t.jsx)(N(),{href:"/david/upload",passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.$,{variant:"/david/upload"===e?"secondary":"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(C.A,{className:"mr-3 h-5 w-5"})," Upload"]})})]}),(0,t.jsx)("div",{className:"mt-auto p-3 border-t border-gray-200",children:(0,t.jsxs)(h.$,{variant:"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,t.jsx)(f.A,{className:"mr-3 h-5 w-5"})," Logout"]})})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-gray-200 bg-white px-6",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Dashboard Overview"}),(0,t.jsx)("div",{className:"ml-auto flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-3",children:[(0,t.jsx)(v.eu,{className:"h-9 w-9",children:(0,t.jsx)(v.q5,{className:"text-gray-900",children:"DL"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"David Lee"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"IT Administrator"})]}),(0,t.jsx)(j.A,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]})})]}),(0,t.jsxs)("main",{className:"flex-1 p-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:a.map((e,a)=>(0,t.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm",children:[(0,t.jsx)(l.aR,{className:"pb-2",children:(0,t.jsx)(l.ZB,{className:"text-sm font-medium text-gray-500",children:e[0]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:e[1]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Last updated: Just now"})]})]},a))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-gray-800",children:"Monthly Applications"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("canvas",{id:"monthlySales"})})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-gray-800",children:"Loan Types"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("canvas",{id:"loansApproved"})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-gray-800",children:"Approval Factors"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("canvas",{id:"factors"})})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(l.Zp,{className:"bg-white border-gray-200 shadow-sm h-96",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-gray-800",children:"Calendar"})}),(0,t.jsx)(l.Wu,{className:"flex justify-center items-center",children:(0,t.jsx)(u,{mode:"single",selected:c,onSelect:g,className:"rounded-md border border-gray-200 bg-white"})})]})})]})]})]})]})}}}]);